from gpiozero import RGBLED,  Button
import subprocess
from signal import pause


#Use pushed to trigger the terminate stuff here

global process1 
global process2 

pushed1 = False
pushed2 = False


BUTTON1 = Button(24) 
BUTTON2 = Button(25)  # define buttonPin

def fox():
    
    global process1
    process1 = subprocess.Popen(["firefox"])
    if pushed1 == True:
        print ("firefox turned on >>>")
        process1 = subprocess.Popen(["firefox"])
    else:
        process1.terminate()

def chromium():
    
    global process2
    process2 = subprocess.Popen(["chromium-browser"])
    if pushed2 == True:
        print ("chromium turned on >>>")
        process2 = subprocess.Popen(["chromium-browser"])
    else:
        process2.terminate()

def destroy():
    global LED, BUTTON2, BUTTON1
    # Release resources
    BUTTON1.close()
    BUTTON2.close()
    
def changeLedState1():
    global pushed1
    print("button pushed")
    
def changeLedState2():
    global pushed2
    print("button pushed")

if __name__ == "__main__":     # Program entrance
    print ("Program is starting...")
    try:
        # If the button gets pressed, call the function
        # This is an event
        BUTTON1.when_pressed = changeLedState1
        BUTTON2.when_pressed = changeLedState2
        
        fox()
        chromium()
        pause()
    except KeyboardInterrupt:  # Press ctrl-c to end the program.
        destroy()